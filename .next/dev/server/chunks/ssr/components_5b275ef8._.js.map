{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/henrique-emvidros/code/em-hub/components/dashboard/chart-theme.tsx"],"sourcesContent":["\"use client\";\n\nimport { ReactNode } from \"react\";\nimport { CartesianGrid } from \"recharts\";\n\nexport const CHART_COLORS = {\n  primary: \"#e8ddc9\",\n  secondary: \"#badacd\",\n} as const;\n\nexport const CHART_STROKE_WIDTH = 2;\n\n// Fundo neutro branco, permitindo que a grid cinza fique mais visível\nexport const CHART_BACKGROUND = \"#FFFFFF\";\n\ninterface ChartContainerProps {\n  children: ReactNode;\n  className?: string;\n}\n\n/**\n * Wrapper padrão para gráficos Recharts:\n * - Fundo lilás quase branco\n * - Grid branca\n * - Padding e raio de borda consistentes\n */\nexport function ChartContainer({ children, className }: ChartContainerProps) {\n  return (\n    <div\n      className={`w-full rounded-2xl border border-gray-100 p-4 ${\n        className ?? \"h-56\"\n      }`}\n      style={{\n        background: CHART_BACKGROUND,\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n\n/**\n * Grid padrão usada em todos os gráficos.\n * Deve ser adicionada dentro do componente do Recharts.\n */\nexport function DefaultCartesianGrid() {\n  return (\n    <CartesianGrid\n      strokeDasharray=\"3 3\"\n      vertical={false}\n      stroke=\"#D4D4D8\" // cinza claro, semelhante ao exemplo do Recharts\n      opacity={0.9}\n    />\n  );\n}\n\n\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGA;AAHA;;;AAKO,MAAM,eAAe;IAC1B,SAAS;IACT,WAAW;AACb;AAEO,MAAM,qBAAqB;AAG3B,MAAM,mBAAmB;AAazB,SAAS,eAAe,EAAE,QAAQ,EAAE,SAAS,EAAuB;IACzE,qBACE,8OAAC;QACC,WAAW,CAAC,8CAA8C,EACxD,aAAa,QACb;QACF,OAAO;YACL,YAAY;QACd;kBAEC;;;;;;AAGP;AAMO,SAAS;IACd,qBACE,8OAAC,8KAAa;QACZ,iBAAgB;QAChB,UAAU;QACV,QAAO;QACP,SAAS;;;;;;AAGf"}},
    {"offset": {"line": 56, "column": 0}, "map": {"version":3,"sources":["file:///home/henrique-emvidros/code/em-hub/components/dashboard/time-series-chart.tsx"],"sourcesContent":["\"use client\";\n\nimport { memo, useMemo, useCallback } from \"react\";\nimport {\n  Line,\n  LineChart,\n  XAxis,\n  YAxis,\n  Tooltip,\n  ResponsiveContainer,\n} from \"recharts\";\n\nimport {\n  CHART_COLORS,\n  CHART_STROKE_WIDTH,\n  ChartContainer,\n  DefaultCartesianGrid,\n} from \"./chart-theme\";\n\ninterface TimeSeriesChartProps {\n  data: { label: string; value: number }[];\n  yLabel?: string;\n  suffix?: string;\n}\n\nfunction TimeSeriesChartComponent({\n  data,\n  yLabel,\n  suffix,\n}: TimeSeriesChartProps) {\n  const tickFormatter = useCallback((v: number) => {\n    if (suffix === \"%\") return `${v}`;\n    if (v >= 1_000_000) return `${(v / 1_000_000).toFixed(1)}M`;\n    if (v >= 1_000) return `${(v / 1_000).toFixed(0)}k`;\n    return `${v}`;\n  }, [suffix]);\n\n  const tooltipFormatter = useCallback((value: number) => {\n    return suffix ? `${value.toFixed(1)}${suffix}` : value.toLocaleString(\"pt-BR\");\n  }, [suffix]);\n\n  const tooltipLabelFormatter = useCallback((label: string) => `${label}`, []);\n  return (\n    <ChartContainer>\n      <ResponsiveContainer width=\"100%\" height=\"100%\" minHeight={0}>\n        <LineChart data={data} margin={{ top: 8, right: 16, bottom: 8, left: 0 }}>\n          <DefaultCartesianGrid />\n          <XAxis\n            dataKey=\"label\"\n            tickLine={false}\n            axisLine={false}\n            tickMargin={8}\n          />\n          <YAxis\n            tickLine={false}\n            axisLine={false}\n            tickMargin={4}\n            tickFormatter={tickFormatter}\n          />\n          <Tooltip\n            contentStyle={{ color: \"#000\" }}\n            formatter={tooltipFormatter}\n            labelFormatter={tooltipLabelFormatter}\n          />\n          <Line\n            type=\"monotone\"\n            dataKey=\"value\"\n            stroke={CHART_COLORS.secondary}\n            strokeWidth={CHART_STROKE_WIDTH}\n            dot={{ r: 3 }}\n            activeDot={{ r: 5 }}\n            connectNulls\n          />\n        </LineChart>\n      </ResponsiveContainer>\n      {yLabel ? (\n        <p className=\"mt-1 text-xs text-gray-500 font-medium\">{yLabel}</p>\n      ) : null}\n    </ChartContainer>\n  );\n}\n\nexport const TimeSeriesChart = memo(TimeSeriesChartComponent);\n\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAZA;;;;;AAyBA,SAAS,yBAAyB,EAChC,IAAI,EACJ,MAAM,EACN,MAAM,EACe;IACrB,MAAM,gBAAgB,IAAA,oNAAW,EAAC,CAAC;QACjC,IAAI,WAAW,KAAK,OAAO,GAAG,GAAG;QACjC,IAAI,KAAK,WAAW,OAAO,GAAG,CAAC,IAAI,SAAS,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;QAC3D,IAAI,KAAK,OAAO,OAAO,GAAG,CAAC,IAAI,KAAK,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;QACnD,OAAO,GAAG,GAAG;IACf,GAAG;QAAC;KAAO;IAEX,MAAM,mBAAmB,IAAA,oNAAW,EAAC,CAAC;QACpC,OAAO,SAAS,GAAG,MAAM,OAAO,CAAC,KAAK,QAAQ,GAAG,MAAM,cAAc,CAAC;IACxE,GAAG;QAAC;KAAO;IAEX,MAAM,wBAAwB,IAAA,oNAAW,EAAC,CAAC,QAAkB,GAAG,OAAO,EAAE,EAAE;IAC3E,qBACE,8OAAC,4JAAc;;0BACb,8OAAC,0LAAmB;gBAAC,OAAM;gBAAO,QAAO;gBAAO,WAAW;0BACzD,cAAA,8OAAC,kKAAS;oBAAC,MAAM;oBAAM,QAAQ;wBAAE,KAAK;wBAAG,OAAO;wBAAI,QAAQ;wBAAG,MAAM;oBAAE;;sCACrE,8OAAC,kKAAoB;;;;;sCACrB,8OAAC,8JAAK;4BACJ,SAAQ;4BACR,UAAU;4BACV,UAAU;4BACV,YAAY;;;;;;sCAEd,8OAAC,8JAAK;4BACJ,UAAU;4BACV,UAAU;4BACV,YAAY;4BACZ,eAAe;;;;;;sCAEjB,8OAAC,kKAAO;4BACN,cAAc;gCAAE,OAAO;4BAAO;4BAC9B,WAAW;4BACX,gBAAgB;;;;;;sCAElB,8OAAC,4JAAI;4BACH,MAAK;4BACL,SAAQ;4BACR,QAAQ,0JAAY,CAAC,SAAS;4BAC9B,aAAa,gKAAkB;4BAC/B,KAAK;gCAAE,GAAG;4BAAE;4BACZ,WAAW;gCAAE,GAAG;4BAAE;4BAClB,YAAY;;;;;;;;;;;;;;;;;YAIjB,uBACC,8OAAC;gBAAE,WAAU;0BAA0C;;;;;uBACrD;;;;;;;AAGV;AAEO,MAAM,gCAAkB,IAAA,6MAAI,EAAC"}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///home/henrique-emvidros/code/em-hub/components/dashboard/histogram-chart.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  Bar,\n  BarChart,\n  Line,\n  ResponsiveContainer,\n  Tooltip,\n  XAxis,\n  YAxis,\n} from \"recharts\";\n\nimport type {\n  DensityPoint,\n  HistogramBin,\n  HistogramStats,\n} from \"@/lib/analytics-client\";\n\nimport {\n  CHART_COLORS,\n  CHART_STROKE_WIDTH,\n  ChartContainer,\n  DefaultCartesianGrid,\n} from \"./chart-theme\";\n\ninterface HistogramChartProps {\n  values?: number[];\n  bins?: HistogramBin[];\n  density?: DensityPoint[];\n  stats?: HistogramStats;\n  binCount?: number;\n  unit?: string;\n}\n\nexport function HistogramChart({\n  values = [],\n  bins,\n  density,\n  stats,\n  binCount = 8,\n  unit,\n}: HistogramChartProps) {\n  if (!values.length && !bins?.length) return null;\n\n  const computedBuckets = (() => {\n    if (bins && bins.length) {\n      return bins.map((b) => ({\n        label: `${Math.round(b.start / 1000)}k - ${Math.round(b.end / 1000)}k`,\n        value: b.count,\n      }));\n    }\n\n    const min = Math.min(...values);\n    const max = Math.max(...values);\n    const step = (max - min) / binCount || 1;\n\n    return Array.from({ length: binCount }, (_, index) => {\n      const start = min + index * step;\n      const end = start + step;\n      const count = values.filter(\n        (v) => v >= start && (index === binCount - 1 ? v <= end : v < end),\n      ).length;\n\n      return {\n        label: `${Math.round(start / 1000)}k - ${Math.round(end / 1000)}k`,\n        value: count,\n      };\n    });\n  })();\n\n  const mean = stats?.mean;\n  const median = stats?.median;\n\n  return (\n    <ChartContainer>\n      <ResponsiveContainer width=\"100%\" height=\"100%\" minHeight={0}>\n        <BarChart\n          data={computedBuckets}\n          margin={{ left: 8, right: 8, top: 8, bottom: 40 }}\n        >\n          <DefaultCartesianGrid />\n          <XAxis\n            dataKey=\"label\"\n            tickLine={false}\n            axisLine={false}\n            tickMargin={10}\n            angle={-30}\n            textAnchor=\"end\"\n          />\n          <YAxis\n            tickLine={false}\n            axisLine={false}\n            allowDecimals={false}\n            tickMargin={4}\n          />\n          <Tooltip\n            contentStyle={{ color: \"#000\" }}\n            formatter={(value: number) => `${value} pedidos`}\n            labelFormatter={(label) => `${label} ${unit ?? \"\"}`}\n          />\n          <Bar\n            dataKey=\"value\"\n            fill={CHART_COLORS.primary}\n            radius={[4, 4, 0, 0]}\n          />\n          {density && density.length ? (\n            <Line\n              type=\"monotone\"\n              data={density}\n              dataKey=\"y\"\n              xAxisId={0}\n              yAxisId={0}\n              dot={false}\n              stroke={CHART_COLORS.secondary}\n              strokeWidth={CHART_STROKE_WIDTH}\n            />\n          ) : null}\n        </BarChart>\n      </ResponsiveContainer>\n      <p className=\"mt-1 text-xs text-gray-500\">\n        Distribuição de pedidos por faixa de valor.\n        {typeof median === \"number\" ? (\n          <>\n            {\" \"}\n            Mediana em torno de{\" \"}\n            <span className=\"font-medium\">\n              {median.toLocaleString(\"pt-BR\", {\n                style: \"currency\",\n                currency: \"BRL\",\n                maximumFractionDigits: 0,\n              })}\n            </span>\n            .\n          </>\n        ) : null}\n      </p>\n    </ChartContainer>\n  );\n}\n\n\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AAlBA;;;;AAkCO,SAAS,eAAe,EAC7B,SAAS,EAAE,EACX,IAAI,EACJ,OAAO,EACP,KAAK,EACL,WAAW,CAAC,EACZ,IAAI,EACgB;IACpB,IAAI,CAAC,OAAO,MAAM,IAAI,CAAC,MAAM,QAAQ,OAAO;IAE5C,MAAM,kBAAkB,CAAC;QACvB,IAAI,QAAQ,KAAK,MAAM,EAAE;YACvB,OAAO,KAAK,GAAG,CAAC,CAAC,IAAM,CAAC;oBACtB,OAAO,GAAG,KAAK,KAAK,CAAC,EAAE,KAAK,GAAG,MAAM,IAAI,EAAE,KAAK,KAAK,CAAC,EAAE,GAAG,GAAG,MAAM,CAAC,CAAC;oBACtE,OAAO,EAAE,KAAK;gBAChB,CAAC;QACH;QAEA,MAAM,MAAM,KAAK,GAAG,IAAI;QACxB,MAAM,MAAM,KAAK,GAAG,IAAI;QACxB,MAAM,OAAO,CAAC,MAAM,GAAG,IAAI,YAAY;QAEvC,OAAO,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAS,GAAG,CAAC,GAAG;YAC1C,MAAM,QAAQ,MAAM,QAAQ;YAC5B,MAAM,MAAM,QAAQ;YACpB,MAAM,QAAQ,OAAO,MAAM,CACzB,CAAC,IAAM,KAAK,SAAS,CAAC,UAAU,WAAW,IAAI,KAAK,MAAM,IAAI,GAAG,GACjE,MAAM;YAER,OAAO;gBACL,OAAO,GAAG,KAAK,KAAK,CAAC,QAAQ,MAAM,IAAI,EAAE,KAAK,KAAK,CAAC,MAAM,MAAM,CAAC,CAAC;gBAClE,OAAO;YACT;QACF;IACF,CAAC;IAED,MAAM,OAAO,OAAO;IACpB,MAAM,SAAS,OAAO;IAEtB,qBACE,8OAAC,4JAAc;;0BACb,8OAAC,0LAAmB;gBAAC,OAAM;gBAAO,QAAO;gBAAO,WAAW;0BACzD,cAAA,8OAAC,gKAAQ;oBACP,MAAM;oBACN,QAAQ;wBAAE,MAAM;wBAAG,OAAO;wBAAG,KAAK;wBAAG,QAAQ;oBAAG;;sCAEhD,8OAAC,kKAAoB;;;;;sCACrB,8OAAC,8JAAK;4BACJ,SAAQ;4BACR,UAAU;4BACV,UAAU;4BACV,YAAY;4BACZ,OAAO,CAAC;4BACR,YAAW;;;;;;sCAEb,8OAAC,8JAAK;4BACJ,UAAU;4BACV,UAAU;4BACV,eAAe;4BACf,YAAY;;;;;;sCAEd,8OAAC,kKAAO;4BACN,cAAc;gCAAE,OAAO;4BAAO;4BAC9B,WAAW,CAAC,QAAkB,GAAG,MAAM,QAAQ,CAAC;4BAChD,gBAAgB,CAAC,QAAU,GAAG,MAAM,CAAC,EAAE,QAAQ,IAAI;;;;;;sCAErD,8OAAC,0JAAG;4BACF,SAAQ;4BACR,MAAM,0JAAY,CAAC,OAAO;4BAC1B,QAAQ;gCAAC;gCAAG;gCAAG;gCAAG;6BAAE;;;;;;wBAErB,WAAW,QAAQ,MAAM,iBACxB,8OAAC,4JAAI;4BACH,MAAK;4BACL,MAAM;4BACN,SAAQ;4BACR,SAAS;4BACT,SAAS;4BACT,KAAK;4BACL,QAAQ,0JAAY,CAAC,SAAS;4BAC9B,aAAa,gKAAkB;;;;;mCAE/B;;;;;;;;;;;;0BAGR,8OAAC;gBAAE,WAAU;;oBAA6B;oBAEvC,OAAO,WAAW,yBACjB;;4BACG;4BAAI;4BACe;0CACpB,8OAAC;gCAAK,WAAU;0CACb,OAAO,cAAc,CAAC,SAAS;oCAC9B,OAAO;oCACP,UAAU;oCACV,uBAAuB;gCACzB;;;;;;4BACK;;uCAGP;;;;;;;;;;;;;AAIZ"}},
    {"offset": {"line": 364, "column": 0}, "map": {"version":3,"sources":["file:///home/henrique-emvidros/code/em-hub/components/dashboard/small-multiple-time-series.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  Line,\n  LineChart,\n  ResponsiveContainer,\n  Tooltip,\n  XAxis,\n  YAxis,\n} from \"recharts\";\n\nimport {\n  CHART_COLORS,\n  CHART_STROKE_WIDTH,\n  ChartContainer,\n  DefaultCartesianGrid,\n} from \"./chart-theme\";\n\ninterface SeriesPoint {\n  label: string;\n  value: number;\n}\n\ninterface SmallSeries {\n  name: string;\n  points: SeriesPoint[];\n}\n\ninterface SmallMultipleTimeSeriesProps {\n  series: SmallSeries[];\n}\n\n/**\n * Small multiple time series – vários pequenos line charts,\n * um por canal/segmento, seguindo o estilo do exemplo de\n * \\\"Small multiple time series\\\" do Recharts.\n */\nexport function SmallMultipleTimeSeries({\n  series,\n}: SmallMultipleTimeSeriesProps) {\n  if (!series.length) return null;\n\n  return (\n    <div className=\"space-y-3\">\n      {series.map((s, idx) => (\n        <ChartContainer key={s.name} className=\"h-28\">\n          <div className=\"mb-1 text-xs font-medium text-gray-600 truncate\">\n            {s.name}\n          </div>\n          <ResponsiveContainer width=\"100%\" height=\"100%\" minHeight={0}>\n            <LineChart data={s.points} margin={{ top: 0, right: 8, bottom: 0, left: 0 }}>\n              <DefaultCartesianGrid />\n              <XAxis\n                dataKey=\"label\"\n                tickLine={false}\n                axisLine={false}\n                tickMargin={4}\n                tick={{ fontSize: 10 }}\n              />\n              <YAxis\n                tickLine={false}\n                axisLine={false}\n                tickMargin={2}\n                tick={{ fontSize: 10 }}\n                tickFormatter={(v) =>\n                  v >= 1_000 ? `${(v / 1_000).toFixed(0)}k` : `${v}`\n                }\n              />\n              <Tooltip\n                contentStyle={{ color: \"#000\" }}\n                formatter={(value: number) => value.toLocaleString(\"pt-BR\")}\n              />\n              <Line\n                type=\"monotone\"\n                dataKey=\"value\"\n                stroke={idx % 2 === 0 ? CHART_COLORS.secondary : CHART_COLORS.primary}\n                strokeWidth={CHART_STROKE_WIDTH}\n                dot={false}\n                activeDot={{ r: 4 }}\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </ChartContainer>\n      ))}\n    </div>\n  );\n}\n\n\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAXA;;;;AAqCO,SAAS,wBAAwB,EACtC,MAAM,EACuB;IAC7B,IAAI,CAAC,OAAO,MAAM,EAAE,OAAO;IAE3B,qBACE,8OAAC;QAAI,WAAU;kBACZ,OAAO,GAAG,CAAC,CAAC,GAAG,oBACd,8OAAC,4JAAc;gBAAc,WAAU;;kCACrC,8OAAC;wBAAI,WAAU;kCACZ,EAAE,IAAI;;;;;;kCAET,8OAAC,0LAAmB;wBAAC,OAAM;wBAAO,QAAO;wBAAO,WAAW;kCACzD,cAAA,8OAAC,kKAAS;4BAAC,MAAM,EAAE,MAAM;4BAAE,QAAQ;gCAAE,KAAK;gCAAG,OAAO;gCAAG,QAAQ;gCAAG,MAAM;4BAAE;;8CACxE,8OAAC,kKAAoB;;;;;8CACrB,8OAAC,8JAAK;oCACJ,SAAQ;oCACR,UAAU;oCACV,UAAU;oCACV,YAAY;oCACZ,MAAM;wCAAE,UAAU;oCAAG;;;;;;8CAEvB,8OAAC,8JAAK;oCACJ,UAAU;oCACV,UAAU;oCACV,YAAY;oCACZ,MAAM;wCAAE,UAAU;oCAAG;oCACrB,eAAe,CAAC,IACd,KAAK,QAAQ,GAAG,CAAC,IAAI,KAAK,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG;;;;;;8CAGtD,8OAAC,kKAAO;oCACN,cAAc;wCAAE,OAAO;oCAAO;oCAC9B,WAAW,CAAC,QAAkB,MAAM,cAAc,CAAC;;;;;;8CAErD,8OAAC,4JAAI;oCACH,MAAK;oCACL,SAAQ;oCACR,QAAQ,MAAM,MAAM,IAAI,0JAAY,CAAC,SAAS,GAAG,0JAAY,CAAC,OAAO;oCACrE,aAAa,gKAAkB;oCAC/B,KAAK;oCACL,WAAW;wCAAE,GAAG;oCAAE;;;;;;;;;;;;;;;;;;eAjCL,EAAE,IAAI;;;;;;;;;;AAyCnC"}},
    {"offset": {"line": 490, "column": 0}, "map": {"version":3,"sources":["file:///home/henrique-emvidros/code/em-hub/components/dashboard/joint-distribution-chart.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  ResponsiveContainer,\n  ScatterChart,\n  CartesianGrid,\n  XAxis,\n  YAxis,\n  Tooltip,\n  Scatter,\n  Cell,\n} from \"recharts\";\n\nimport {\n  CHART_COLORS,\n  ChartContainer,\n} from \"./chart-theme\";\n\ninterface JointPoint {\n  x: number;\n  y: number;\n  label?: string;\n}\n\ninterface JointDistributionChartProps {\n  points: JointPoint[];\n  xLabel: string;\n  yLabel: string;\n}\n\n/**\n * Joint distribution simples (scatter) inspirado no sns.jointplot,\n * usado para relacionar duas métricas contínuas (ex.: faturamento × margem).\n */\nexport function JointDistributionChart({\n  points,\n  xLabel,\n  yLabel,\n}: JointDistributionChartProps) {\n  if (!points.length) return null;\n\n  return (\n    <ChartContainer>\n      <ResponsiveContainer width=\"100%\" height=\"100%\" minHeight={0}>\n        <ScatterChart margin={{ top: 8, right: 16, bottom: 24, left: 32 }}>\n          <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#E4E4E7\" opacity={0.9} />\n          <XAxis\n            type=\"number\"\n            dataKey=\"x\"\n            tickLine={false}\n            axisLine={false}\n            tickMargin={8}\n            tickFormatter={(v) =>\n              v >= 1_000_000\n                ? `${(v / 1_000_000).toFixed(1)}M`\n                : v >= 1_000\n                  ? `${(v / 1_000).toFixed(0)}k`\n                  : `${v}`\n            }\n            name={xLabel}\n          />\n          <YAxis\n            type=\"number\"\n            dataKey=\"y\"\n            tickLine={false}\n            axisLine={false}\n            tickMargin={4}\n            tickFormatter={(v) => `${v.toFixed(1)}%`}\n            name={yLabel}\n          />\n          <Tooltip\n            cursor={{ strokeDasharray: \"3 3\" }}\n            contentStyle={{ color: \"#000\" }}\n            formatter={(value: number, key: string) =>\n              key === \"x\"\n                ? value.toLocaleString(\"pt-BR\", {\n                    style: \"currency\",\n                    currency: \"BRL\",\n                    maximumFractionDigits: 0,\n                  })\n                : `${(value as number).toFixed(1)}%`\n            }\n            labelFormatter={(_, payload) =>\n              payload && payload[0]?.payload?.label\n                ? String(payload[0].payload.label)\n                : \"\"\n            }\n          />\n          <Scatter data={points}>\n            {points.map((p, idx) => (\n              // eslint-disable-next-line react/no-array-index-key\n              <Cell\n                key={idx}\n                fill={CHART_COLORS.secondary}\n                fillOpacity={0.9}\n              />\n            ))}\n          </Scatter>\n        </ScatterChart>\n      </ResponsiveContainer>\n    </ChartContainer>\n  );\n}\n\n\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAbA;;;;AAkCO,SAAS,uBAAuB,EACrC,MAAM,EACN,MAAM,EACN,MAAM,EACsB;IAC5B,IAAI,CAAC,OAAO,MAAM,EAAE,OAAO;IAE3B,qBACE,8OAAC,4JAAc;kBACb,cAAA,8OAAC,0LAAmB;YAAC,OAAM;YAAO,QAAO;YAAO,WAAW;sBACzD,cAAA,8OAAC,wKAAY;gBAAC,QAAQ;oBAAE,KAAK;oBAAG,OAAO;oBAAI,QAAQ;oBAAI,MAAM;gBAAG;;kCAC9D,8OAAC,8KAAa;wBAAC,iBAAgB;wBAAM,QAAO;wBAAU,SAAS;;;;;;kCAC/D,8OAAC,8JAAK;wBACJ,MAAK;wBACL,SAAQ;wBACR,UAAU;wBACV,UAAU;wBACV,YAAY;wBACZ,eAAe,CAAC,IACd,KAAK,YACD,GAAG,CAAC,IAAI,SAAS,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,GAChC,KAAK,QACH,GAAG,CAAC,IAAI,KAAK,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,GAC5B,GAAG,GAAG;wBAEd,MAAM;;;;;;kCAER,8OAAC,8JAAK;wBACJ,MAAK;wBACL,SAAQ;wBACR,UAAU;wBACV,UAAU;wBACV,YAAY;wBACZ,eAAe,CAAC,IAAM,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;wBACxC,MAAM;;;;;;kCAER,8OAAC,kKAAO;wBACN,QAAQ;4BAAE,iBAAiB;wBAAM;wBACjC,cAAc;4BAAE,OAAO;wBAAO;wBAC9B,WAAW,CAAC,OAAe,MACzB,QAAQ,MACJ,MAAM,cAAc,CAAC,SAAS;gCAC5B,OAAO;gCACP,UAAU;gCACV,uBAAuB;4BACzB,KACA,GAAG,AAAC,MAAiB,OAAO,CAAC,GAAG,CAAC,CAAC;wBAExC,gBAAgB,CAAC,GAAG,UAClB,WAAW,OAAO,CAAC,EAAE,EAAE,SAAS,QAC5B,OAAO,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,IAC/B;;;;;;kCAGR,8OAAC,kKAAO;wBAAC,MAAM;kCACZ,OAAO,GAAG,CAAC,CAAC,GAAG,MACd,oDAAoD;0CACpD,8OAAC,4JAAI;gCAEH,MAAM,0JAAY,CAAC,SAAS;gCAC5B,aAAa;+BAFR;;;;;;;;;;;;;;;;;;;;;;;;;;AAUrB"}},
    {"offset": {"line": 613, "column": 0}, "map": {"version":3,"sources":["file:///home/henrique-emvidros/code/em-hub/components/ui/table.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Table({ className, ...props }: React.ComponentProps<\"table\">) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn(\"w-full caption-bottom text-sm\", className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<\"thead\">) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn(\"[&_tr]:border-b\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<\"tbody\">) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn(\"[&_tr:last-child]:border-0\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<\"tfoot\">) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        \"bg-muted/50 border-t font-medium [&>tr]:last:border-b-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<\"tr\">) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        \"hover:bg-gray-50 data-[state=selected]:bg-gray-100 border-b border-gray-50 transition-colors\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<\"th\">) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        \"h-10 px-4 text-left align-middle font-medium whitespace-nowrap text-xs text-gray-500 border-b border-gray-100 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<\"td\">) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        \"p-4 align-middle text-sm text-gray-900 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<\"caption\">) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn(\"text-muted-foreground mt-4 text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;AAJA;;;AAMA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAsC;IACnE,qBACE,8OAAC;QACC,aAAU;QACV,WAAU;kBAEV,cAAA,8OAAC;YACC,aAAU;YACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIjB;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAsC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAmC;IACnE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,gGACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qLACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,8GACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC6B;IAChC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 737, "column": 0}, "map": {"version":3,"sources":["file:///home/henrique-emvidros/code/em-hub/components/dashboard/donut-category-chart.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\nimport {\n  Pie,\n  PieChart,\n  ResponsiveContainer,\n  Tooltip,\n  Cell,\n} from \"recharts\";\n\nimport { CHART_COLORS, ChartContainer } from \"./chart-theme\";\n\ninterface DonutCategoryChartProps {\n  data: { label: string; value: number }[];\n}\n\nconst DONUT_COLORS = [\n  \"#6D28D9\",\n  \"#0EA5E9\",\n  \"#22C55E\",\n  \"#F97316\",\n  \"#EC4899\",\n  \"#3B82F6\",\n  \"#EAB308\",\n  \"#14B8A6\",\n  \"#F59E0B\",\n  \"#8B5CF6\",\n];\n\nexport function DonutCategoryChart({ data }: DonutCategoryChartProps) {\n  const [activeIndex, setActiveIndex] = useState<number | null>(null);\n  const [selectedIndex, setSelectedIndex] = useState<number | null>(null);\n\n  const total = useMemo(\n    () => data.reduce((acc, item) => acc + (item.value ?? 0), 0),\n    [data],\n  );\n\n  const enriched = useMemo(\n    () =>\n      data.map((item, index) => {\n        const percentage = total > 0 ? (item.value / total) * 100 : 0;\n        return {\n          ...item,\n          percentage,\n          color: DONUT_COLORS[index % DONUT_COLORS.length],\n        };\n      }),\n    [data, total],\n  );\n\n  const currentIndex =\n    activeIndex ?? selectedIndex ?? (enriched.length ? 0 : null);\n\n  return (\n    <ChartContainer className=\"h-auto\">\n      <div className=\"flex flex-col gap-4 md:flex-row md:items-center\">\n        {/* Lista de categorias (esconde em telas muito pequenas para focar no donut) */}\n        <div className=\"hidden min-w-[180px] flex-1 space-y-2 text-xs text-muted-foreground sm:block\">\n          {enriched.map((item, index) => {\n            const isActive = currentIndex === index;\n            return (\n              <button\n                key={item.label}\n                type=\"button\"\n                onClick={() =>\n                  setSelectedIndex((prev) => (prev === index ? null : index))\n                }\n                className={`flex w-full items-center justify-between rounded-lg px-2 py-1.5 text-left transition ${\n                  isActive\n                    ? \"bg-emerald-50 text-emerald-900\"\n                    : \"hover:bg-gray-50\"\n                }`}\n              >\n                <div className=\"flex items-center gap-2\">\n                  <span\n                    className=\"inline-block h-2 w-2 rounded-full\"\n                    style={{ backgroundColor: item.color }}\n                  />\n                  <span className=\"truncate text-[11px] font-medium\">\n                    {item.label}\n                  </span>\n                </div>\n                <span className=\"text-[11px] tabular-nums\">\n                  {item.percentage.toFixed(0)}%\n                </span>\n              </button>\n            );\n          })}\n          {!enriched.length ? (\n            <p className=\"text-[11px] text-gray-400\">\n              Sem dados suficientes para exibir a distribuição.\n            </p>\n          ) : null}\n        </div>\n\n        {/* Donut */}\n        <div className=\"flex flex-1 items-center justify-center\">\n          <ResponsiveContainer width=\"100%\" height={220} minHeight={160}>\n            <PieChart>\n              <Tooltip\n                contentStyle={{\n                  borderRadius: 999,\n                  borderColor: \"hsl(var(--border))\",\n                  fontSize: 11,\n                }}\n                formatter={(value: number, _name, props) => {\n                  const payload = props.payload as (typeof enriched)[number];\n                  return [\n                    `${value.toLocaleString(\"pt-BR\")} (${payload.percentage.toFixed(0)}%)`,\n                    payload.label,\n                  ];\n                }}\n              />\n              <Pie\n                data={enriched}\n                dataKey=\"value\"\n                nameKey=\"label\"\n                innerRadius={60}\n                outerRadius={82}\n                paddingAngle={2}\n                strokeWidth={10}\n                onMouseEnter={(_, index) => setActiveIndex(index)}\n                onMouseLeave={() => setActiveIndex(null)}\n                onClick={(_, index) =>\n                  setSelectedIndex((prev) => (prev === index ? null : index))\n                }\n              >\n                {enriched.map((entry, index) => {\n                  const isActive = currentIndex === index;\n                  return (\n                    <Cell\n                      // eslint-disable-next-line react/no-array-index-key\n                      key={`cell-${index}`}\n                      fill={entry.color}\n                      stroke={CHART_COLORS.primary}\n                      fillOpacity={isActive ? 0.95 : 0.7}\n                    />\n                  );\n                })}\n              </Pie>\n            </PieChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n    </ChartContainer>\n  );\n}\n\n\n"],"names":[],"mappings":"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"}}]
}