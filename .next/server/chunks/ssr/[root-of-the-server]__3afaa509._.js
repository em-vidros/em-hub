module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},70864,a=>{a.n(a.i(33290))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},70809,a=>{a.n(a.i(3605))},33952,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call CategoryBarChart() from the server but CategoryBarChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/dashboard/category-bar-chart.tsx <module evaluation>","CategoryBarChart");a.s(["CategoryBarChart",0,b])},24333,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call CategoryBarChart() from the server but CategoryBarChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/dashboard/category-bar-chart.tsx","CategoryBarChart");a.s(["CategoryBarChart",0,b])},97555,a=>{"use strict";a.i(33952);var b=a.i(24333);a.n(b)},47969,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call TimeSeriesChart() from the server but TimeSeriesChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/dashboard/time-series-chart.tsx <module evaluation>","TimeSeriesChart");a.s(["TimeSeriesChart",0,b])},99170,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call TimeSeriesChart() from the server but TimeSeriesChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/dashboard/time-series-chart.tsx","TimeSeriesChart");a.s(["TimeSeriesChart",0,b])},7856,a=>{"use strict";a.i(47969);var b=a.i(99170);a.n(b)},93349,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call DonutCategoryChart() from the server but DonutCategoryChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/dashboard/donut-category-chart.tsx <module evaluation>","DonutCategoryChart");a.s(["DonutCategoryChart",0,b])},20291,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call DonutCategoryChart() from the server but DonutCategoryChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/dashboard/donut-category-chart.tsx","DonutCategoryChart");a.s(["DonutCategoryChart",0,b])},78825,a=>{"use strict";a.i(93349);var b=a.i(20291);a.n(b)},21261,a=>{"use strict";function b(a,b){let c=process.env[a],d=c?Number(c):NaN;return Number.isFinite(d)&&d>=0?d:b}let c=b("ANALYTICS_REVALIDATE_SECONDS_DEFAULT",300),d=b("ANALYTICS_REVALIDATE_SECONDS_SLOW",900);async function e(a,{revalidateSeconds:b,tags:d}={}){let f="number"==typeof b?b:c,g=f>0,h=`http://127.0.0.1:8000${a}`,i={cache:g?"force-cache":"no-store",next:g?{revalidate:f,...d&&d.length?{tags:d}:{}}:void 0};try{let a=await fetch(h,i);if(!a.ok)return null;return await a.json()}catch{return null}}async function f(){return e("/analytics/producao/oee-vs-retrabalho",{tags:["analytics:producao","analytics:producao:oee-vs-retrabalho"]})}async function g(){let a=await e("/analytics/producao/heatmap-turno-dia",{tags:["analytics:producao","analytics:producao:heatmap-turno-dia"]});return a?.cells??[]}async function h(){return e("/analytics/comercial/distribuicao-ticket",{revalidateSeconds:d,tags:["analytics:comercial","analytics:comercial:distribuicao-ticket"]})}a.s(["getDistribuicaoTicket",()=>h,"getHeatmapTurnoDia",()=>g,"getOeeVsRetrabalho",()=>f])},2961,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call HistogramChart() from the server but HistogramChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/dashboard/histogram-chart.tsx <module evaluation>","HistogramChart");a.s(["HistogramChart",0,b])},59621,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call HistogramChart() from the server but HistogramChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/dashboard/histogram-chart.tsx","HistogramChart");a.s(["HistogramChart",0,b])},39787,a=>{"use strict";a.i(2961);var b=a.i(59621);a.n(b)},22254,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call SmallMultipleTimeSeries() from the server but SmallMultipleTimeSeries is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/dashboard/small-multiple-time-series.tsx <module evaluation>","SmallMultipleTimeSeries");a.s(["SmallMultipleTimeSeries",0,b])},9515,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call SmallMultipleTimeSeries() from the server but SmallMultipleTimeSeries is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/dashboard/small-multiple-time-series.tsx","SmallMultipleTimeSeries");a.s(["SmallMultipleTimeSeries",0,b])},43612,a=>{"use strict";a.i(22254);var b=a.i(9515);a.n(b)},13606,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call JointDistributionChart() from the server but JointDistributionChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/dashboard/joint-distribution-chart.tsx <module evaluation>","JointDistributionChart");a.s(["JointDistributionChart",0,b])},68e3,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call JointDistributionChart() from the server but JointDistributionChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/dashboard/joint-distribution-chart.tsx","JointDistributionChart");a.s(["JointDistributionChart",0,b])},54036,a=>{"use strict";a.i(13606);var b=a.i(68e3);a.n(b)},31783,a=>{"use strict";var b=a.i(7997),c=a.i(42390),d=a.i(97555),e=a.i(7856),f=a.i(39787),g=a.i(43612),h=a.i(54036),i=a.i(97867),j=a.i(76615),k=a.i(21261),l=a.i(78825);async function m(){let[a,m]=await Promise.all([Promise.resolve(function(a="30d"){return{period:a,kpis:{vendasTotais:{label:"Vendas totais",value:39e5,unit:"R$",trendPercentage:7.2},ticketMedio:{label:"Ticket médio",value:18200,unit:"R$",trendPercentage:3.4},novosClientes:{label:"Novos clientes",value:18,trendPercentage:1.8},taxaConversao:{label:"Taxa de conversão",value:27.5,unit:"%",trendPercentage:.9}},vendasPorMes:[{date:"2025-01-01",value:34e5},{date:"2025-02-01",value:355e4},{date:"2025-03-01",value:372e4},{date:"2025-04-01",value:39e5}],vendasPorCanal:[{canal:"Construtoras",valor:15e5},{canal:"Vidraçarias",valor:12e5},{canal:"Projetos especiais",valor:8e5},{canal:"Varejo",valor:4e5}],principaisClientes:[{id:"c1",nome:"Construtora Horizonte",faturamentoMensal:65e4,margemPercentual:22},{id:"c4",nome:"Grupo Alfa Engenharia",faturamentoMensal:58e4,margemPercentual:20},{id:"c2",nome:"Vidraçaria Central",faturamentoMensal:52e4,margemPercentual:19},{id:"c5",nome:"Incorporadora Atlântica",faturamentoMensal:47e4,margemPercentual:21}],distribuicaoTicket:[8e3,9500,12e3,15e3,16e3,17500,18e3,19e3,21e3,23e3,26e3,28e3],distribuicaoTicketAnterior:[7e3,8200,10500,13e3,14200,15800,16200,17200,19e3,20500,23e3,25e3],vendasCanalMes:[{canal:"Construtoras",mes:"Jan",valor:36e4},{canal:"Construtoras",mes:"Fev",valor:37e4},{canal:"Construtoras",mes:"Mar",valor:38e4},{canal:"Construtoras",mes:"Abr",valor:39e4},{canal:"Vidraçarias",mes:"Jan",valor:29e4},{canal:"Vidraçarias",mes:"Fev",valor:3e5},{canal:"Vidraçarias",mes:"Mar",valor:31e4},{canal:"Vidraçarias",mes:"Abr",valor:32e4},{canal:"Projetos especiais",mes:"Jan",valor:19e4},{canal:"Projetos especiais",mes:"Fev",valor:2e5},{canal:"Projetos especiais",mes:"Mar",valor:205e3},{canal:"Projetos especiais",mes:"Abr",valor:21e4},{canal:"Varejo",mes:"Jan",valor:9e4},{canal:"Varejo",mes:"Fev",valor:95e3},{canal:"Varejo",mes:"Mar",valor:98e3},{canal:"Varejo",mes:"Abr",valor:1e5}],funilVendas:[{etapa:"Prospecção",oportunidades:140,valorTotal:82e5,taxaConversao:100},{etapa:"Proposta enviada",oportunidades:86,valorTotal:61e5,taxaConversao:61},{etapa:"Negociação",oportunidades:48,valorTotal:42e5,taxaConversao:34},{etapa:"Fechado ganho",oportunidades:27,valorTotal:26e5,taxaConversao:19}],mixProdutosCanal:[{canal:"Construtoras",categoriaProduto:"Templados",percentualFaturamento:46},{canal:"Construtoras",categoriaProduto:"Laminados",percentualFaturamento:32},{canal:"Construtoras",categoriaProduto:"Insulados",percentualFaturamento:22},{canal:"Vidraçarias",categoriaProduto:"Templados",percentualFaturamento:38},{canal:"Vidraçarias",categoriaProduto:"Laminados",percentualFaturamento:29},{canal:"Vidraçarias",categoriaProduto:"Insulados",percentualFaturamento:18},{canal:"Vidraçarias",categoriaProduto:"Acessórios",percentualFaturamento:15}]}}("30d")),(0,k.getDistribuicaoTicket)()]);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("section",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsx)(c.KpiCard,{kpi:a.kpis.vendasTotais,variant:"currency"}),(0,b.jsx)(c.KpiCard,{kpi:a.kpis.ticketMedio,variant:"currency"}),(0,b.jsx)(c.KpiCard,{kpi:a.kpis.novosClientes}),(0,b.jsx)(c.KpiCard,{kpi:a.kpis.taxaConversao,variant:"percentage"})]}),(0,b.jsxs)("section",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:[(0,b.jsx)(i.SectionCard,{title:"Vendas por mês",subtitle:"Tendência de faturamento",children:(0,b.jsx)(e.TimeSeriesChart,{data:a.vendasPorMes.map(a=>({label:new Date(a.date).toLocaleDateString("pt-BR",{month:"short"}),value:a.value})),yLabel:"Faturamento mensal"})}),(0,b.jsx)(i.SectionCard,{title:"Vendas por canal",subtitle:"Distribuição da receita por canal",children:(0,b.jsx)(l.DonutCategoryChart,{data:a.vendasPorCanal.map(a=>({label:a.canal,value:a.valor}))})})]}),(0,b.jsxs)("section",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:[(0,b.jsx)(i.SectionCard,{title:"Distribuição de tickets",subtitle:"Histograma por faixa de valor de pedido",children:(0,b.jsx)(f.HistogramChart,{values:m?.values?.length?m.values:a.distribuicaoTicket??[],bins:m?.bins,density:m?.density,stats:m?.stats,unit:"R$"})}),(0,b.jsx)(i.SectionCard,{title:"Principais clientes",subtitle:"Top contas por faturamento",children:(0,b.jsxs)(j.Table,{children:[(0,b.jsx)(j.TableHeader,{children:(0,b.jsxs)(j.TableRow,{children:[(0,b.jsx)(j.TableHead,{children:"Cliente"}),(0,b.jsx)(j.TableHead,{children:"Faturamento"}),(0,b.jsx)(j.TableHead,{children:"Margem"})]})}),(0,b.jsx)(j.TableBody,{children:a.principaisClientes.map(a=>(0,b.jsxs)(j.TableRow,{children:[(0,b.jsx)(j.TableCell,{children:a.nome}),(0,b.jsx)(j.TableCell,{children:a.faturamentoMensal.toLocaleString("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:0})}),(0,b.jsxs)(j.TableCell,{children:[a.margemPercentual.toFixed(1),"%"]})]},a.id))})]})})]}),(0,b.jsxs)("section",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:[(0,b.jsxs)(i.SectionCard,{title:"Funil de vendas",subtitle:"Conversão por etapa e valor em pipeline",children:[(0,b.jsx)(d.CategoryBarChart,{data:a.funilVendas.map(b=>({label:b.etapa,value:b.taxaConversao,secondaryValue:b.valorTotal/a.kpis.vendasTotais.value*100})),suffix:"%"}),(0,b.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"A primeira barra mostra a taxa de conversão da etapa; a segunda, a participação do valor em pipeline em relação às vendas totais do período. Isso ajuda a priorizar onde focar esforços comerciais."})]}),(0,b.jsx)(i.SectionCard,{title:"Joint distribution clientes",subtitle:"Faturamento mensal × margem percentual",children:(0,b.jsx)(h.JointDistributionChart,{points:a.principaisClientes.map(a=>({x:a.faturamentoMensal,y:a.margemPercentual,label:a.nome})),xLabel:"Faturamento mensal (R$)",yLabel:"Margem (%)"})})]}),(0,b.jsx)("section",{children:(0,b.jsx)(i.SectionCard,{title:"Receita mensal por canal",subtitle:"Small multiples comparando a evolução de cada canal",children:(0,b.jsx)(g.SmallMultipleTimeSeries,{series:Array.from(new Map(a.vendasCanalMes.map(b=>[b.canal,a.vendasCanalMes.filter(a=>a.canal===b.canal)])).entries()).map(([a,b])=>({name:a,points:b.map(a=>({label:a.mes,value:a.valor}))}))})})})]})}a.s(["default",()=>m,"revalidate",0,300],31783)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__3afaa509._.js.map